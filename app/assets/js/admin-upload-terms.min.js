/*! 
 * rtMedia JavaScript Library 
 * @package rtMedia 
 */

jQuery(document).ready(function(n){var r=n('input[name^="rtmedia-options[general_enable_upload_terms]"]'),a=n('input[name^="rtmedia-options[activity_enable_upload_terms]"]'),s=n('input[name^="rtmedia-options[general_upload_terms_page_link]"]'),o=n('input[name^="rtmedia-options[general_upload_terms_message]"]'),i=n('input[name^="rtmedia-options[general_upload_terms_error_message]"]'),m=n('input[name^="rtmedia-options[general_upload_terms_show_pricacy_message]"]'),l=n('textarea[name^="rtmedia-options[general_upload_terms_privacy_message]"]');function p(t,e){var r=n(t);r.focus(),r.css("border-color","red");var a=r.parent();if(0<a.length&&"error_msg"!==a.attr("class")){var s=n("<span />").attr("style","display:block").addClass("error_msg").html(e);r.after(s)}return return_code=!1}function t(){r.prop("checked")||a.prop("checked")?(s.closest(".form-table").slideDown(),o.closest(".form-table").slideDown(),i.closest(".form-table").slideDown()):(s.closest(".form-table").slideUp(),o.closest(".form-table").slideUp(),i.closest(".form-table").slideUp()),m.prop("checked")?l.closest(".form-table").slideDown():l.closest(".form-table").slideUp()}t(),n('input[name^="rtmedia-options[general_enable_upload_terms]"], input[name^="rtmedia-options[activity_enable_upload_terms]"], input[name^="rtmedia-options[general_upload_terms_show_pricacy_message]"]').change(function(){t()}),n("#bp-media-settings-boxes").on("submit","#bp_media_settings_form, .rtmedia-settings-submit",function(t){if(0<r.length&&void 0!==r||0<a.length&&"string"!==a){var e="";if(r.prop("checked")||a.prop("checked")){if(n(".error_msg").remove(),n(".rtm-form-text").css("border-color","#ddd"),!/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/i.test(s.val()))return e+=rtm_upload_terms_error_msgs.valid_url,0<r.parents(".rtm-content").attr("id").length&&n("#tab-"+r.parents(".rtm-content").attr("id")).click(),p(s,e);if(""===o.val().trim())return e+=rtm_upload_terms_error_msgs.terms_msg,0<o.parents(".rtm-content").attr("id").length&&n("#tab-"+o.parents(".rtm-content").attr("id")).click(),p(o,e);if(""===i.val().trim())return e+=rtm_upload_terms_error_msgs.error_msg,0<i.parents(".rtm-content").attr("id").length&&n("#tab-"+i.parents(".rtm-content").attr("id")).click(),p(i,e)}}if(0<m.length&&void 0!==m){e="";if(m.prop("checked")&&(n(".error_msg").remove(),""===l.val().trim()))return e+=rtm_upload_terms_error_msgs.privacy_msg,0<l.parents(".rtm-content").attr("id").length&&n("#tab-"+l.parents(".rtm-content").attr("id")).click(),p(l,e)}})});