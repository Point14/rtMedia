/*! 
 * rtMedia JavaScript Library 
 * @package rtMedia 
 */

jQuery(document).ready(function(n){var i=n('input[name^="rtmedia-options[general_enable_upload_terms]"]'),m=n('input[name^="rtmedia-options[activity_enable_upload_terms]"]'),l=n('input[name^="rtmedia-options[general_upload_terms_page_link]"]'),p=n('input[name^="rtmedia-options[general_upload_terms_message]"]'),_=n('input[name^="rtmedia-options[general_upload_terms_error_message]"]'),d=n('input[name^="rtmedia-options[general_upload_terms_show_pricacy_message]"]'),c=n('textarea[name^="rtmedia-options[general_upload_terms_privacy_message]"]');function u(e,t){var r=n(e);r.focus(),r.css("border-color","red");var a=r.parent();if(0<a.length&&"error_msg"!==a.attr("class")){var s=n("<span />").attr("style","display:block").addClass("error_msg").html(t);r.after(s)}return return_code=!1}function e(){i.prop("checked")||m.prop("checked")?(l.closest(".form-table").slideDown(),p.closest(".form-table").slideDown(),_.closest(".form-table").slideDown()):(l.closest(".form-table").slideUp(),p.closest(".form-table").slideUp(),_.closest(".form-table").slideUp()),d.prop("checked")?c.closest(".form-table").slideDown():c.closest(".form-table").slideUp()}e(),n('input[name^="rtmedia-options[general_enable_upload_terms]"], input[name^="rtmedia-options[activity_enable_upload_terms]"], input[name^="rtmedia-options[general_upload_terms_show_pricacy_message]"]').change(function(){e()}),n("#bp-media-settings-boxes").on("submit","#bp_media_settings_form, .rtmedia-settings-submit",function(e){if(0<i.length&&void 0!==i||0<m.length&&"string"!==m){var t="";if(i.prop("checked")||m.prop("checked")){if(n(".error_msg").remove(),n(".rtm-form-text").css("border-color","#ddd"),!/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/i.test(l.val())){t+=rtm_upload_terms_error_msgs.valid_url;var r=i.parents(".rtm-content").attr("id");return 0<r.length&&n("#tab-"+r).click(),u(l,t)}if(""===p.val().trim()){t+=rtm_upload_terms_error_msgs.terms_msg;var a=p.parents(".rtm-content").attr("id");return 0<a.length&&n("#tab-"+a).click(),u(p,t)}if(""===_.val().trim()){t+=rtm_upload_terms_error_msgs.error_msg;var s=_.parents(".rtm-content").attr("id");return 0<s.length&&n("#tab-"+s).click(),u(_,t)}}}if(0<d.length&&void 0!==d){t="";if(d.prop("checked")&&(n(".error_msg").remove(),""===c.val().trim())){t+=rtm_upload_terms_error_msgs.privacy_msg;var o=c.parents(".rtm-content").attr("id");return 0<o.length&&n("#tab-"+o).click(),u(c,t)}}})});