/*! 
 * rtMedia JavaScript Library 
 * @package rtMedia 
 */

jQuery(document).ready(function(t){var a=jQuery('input[name^="rtmedia-options[general_enable_upload_terms]"]'),s=jQuery('input[name^="rtmedia-options[activity_enable_upload_terms]"]'),o=jQuery('input[name^="rtmedia-options[general_upload_terms_page_link]"]'),n=jQuery('input[name^="rtmedia-options[general_upload_terms_message]"]'),i=jQuery('input[name^="rtmedia-options[general_upload_terms_error_message]"]'),m=jQuery('input[name^="rtmedia-options[general_upload_terms_show_pricacy_message]"]'),l=jQuery('textarea[name^="rtmedia-options[general_upload_terms_privacy_message]"]');function p(e,r){var t=jQuery(e);if(t.focus(),t.css("border-color","red"),0<t.parent().length&&"error_msg"!==t.parent().attr("class")){var a=jQuery("<span />").attr("style","display:block").addClass("error_msg").html(r);t.after(a)}return return_code=!1}function e(){!0===a.prop("checked")||!0===s.prop("checked")?(o.closest(".form-table").slideDown(),n.closest(".form-table").slideDown(),i.closest(".form-table").slideDown()):(o.closest(".form-table").slideUp(),n.closest(".form-table").slideUp(),i.closest(".form-table").slideUp()),!0===m.prop("checked")?l.closest(".form-table").slideDown():l.closest(".form-table").slideUp()}e(),jQuery('input[name^="rtmedia-options[general_enable_upload_terms]"], input[name^="rtmedia-options[activity_enable_upload_terms]"], input[name^="rtmedia-options[general_upload_terms_show_pricacy_message]"]').change(function(){e()}),jQuery("#bp-media-settings-boxes").on("submit","#bp_media_settings_form, .rtmedia-settings-submit",function(e){if(0<a.length&&void 0!==a||0<s.length&&"string"!==s){var r="";if(!0===a.prop("checked")||!0===s.prop("checked")){if(jQuery(".error_msg").remove(),jQuery(".rtm-form-text").css("border-color","#ddd"),!/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/i.test(o.val()))return r+=rtm_upload_terms_error_msgs.valid_url,t("#tab-"+a.parents(".rtm-content").attr("id")).click(),p(o,r);if(""===n.val().trim())return r+=rtm_upload_terms_error_msgs.terms_msg,t("#tab-"+n.parents(".rtm-content").attr("id")).click(),p(n,r);if(""===i.val().trim())return r+=rtm_upload_terms_error_msgs.error_msg,t("#tab-"+i.parents(".rtm-content").attr("id")).click(),p(i,r)}}if(0<m.length&&void 0!==m){r="";if(m.prop("checked")&&(jQuery(".error_msg").remove(),""===l.val().trim()))return r+=rtm_upload_terms_error_msgs.privacy_msg,t("#tab-"+l.parents(".rtm-content").attr("id")).click(),p(l,r)}})});