/*! 
 * rtMedia JavaScript Library 
 * @package rtMedia 
 */

jQuery(document).ready(function(s){var r=s('input[name^="rtmedia-options[general_enable_upload_terms]"]'),a=s('input[name^="rtmedia-options[activity_enable_upload_terms]"]'),n=s('input[name^="rtmedia-options[general_upload_terms_page_link]"]'),o=s('input[name^="rtmedia-options[general_upload_terms_message]"]'),i=s('input[name^="rtmedia-options[general_upload_terms_error_message]"]'),m=s('input[name^="rtmedia-options[general_upload_terms_show_pricacy_message]"]'),l=s('textarea[name^="rtmedia-options[general_upload_terms_privacy_message]"]');function p(t,e){var r=s(t);if(r.focus(),r.css("border-color","red"),0<r.parent().length&&"error_msg"!==r.parent().attr("class")){var a=s("<span />").attr("style","display:block").addClass("error_msg").html(e);r.after(a)}return return_code=!1}function t(){r.prop("checked")||a.prop("checked")?(n.closest(".form-table").slideDown(),o.closest(".form-table").slideDown(),i.closest(".form-table").slideDown()):(n.closest(".form-table").slideUp(),o.closest(".form-table").slideUp(),i.closest(".form-table").slideUp()),m.prop("checked")?l.closest(".form-table").slideDown():l.closest(".form-table").slideUp()}t(),s('input[name^="rtmedia-options[general_enable_upload_terms]"], input[name^="rtmedia-options[activity_enable_upload_terms]"], input[name^="rtmedia-options[general_upload_terms_show_pricacy_message]"]').change(function(){t()}),s("#bp-media-settings-boxes").on("submit","#bp_media_settings_form, .rtmedia-settings-submit",function(t){if(0<r.length&&void 0!==r||0<a.length&&"string"!==a){var e="";if(r.prop("checked")||a.prop("checked")){if(s(".error_msg").remove(),s(".rtm-form-text").css("border-color","#ddd"),!/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/i.test(n.val()))return e+=rtm_upload_terms_error_msgs.valid_url,0<r.parents(".rtm-content").attr("id").length&&s("#tab-"+r.parents(".rtm-content").attr("id")).click(),p(n,e);if(""===o.val().trim())return e+=rtm_upload_terms_error_msgs.terms_msg,0<o.parents(".rtm-content").attr("id").length&&s("#tab-"+o.parents(".rtm-content").attr("id")).click(),p(o,e);if(""===i.val().trim())return e+=rtm_upload_terms_error_msgs.error_msg,0<i.parents(".rtm-content").attr("id").length&&s("#tab-"+i.parents(".rtm-content").attr("id")).click(),p(i,e)}}if(0<m.length&&void 0!==m){e="";if(m.prop("checked")&&(s(".error_msg").remove(),""===l.val().trim()))return e+=rtm_upload_terms_error_msgs.privacy_msg,0<l.parents(".rtm-content").attr("id").length&&s("#tab-"+l.parents(".rtm-content").attr("id")).click(),p(l,e)}})});